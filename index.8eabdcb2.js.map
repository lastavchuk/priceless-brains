{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-6fb3ca8812cf0cd6.js","src/js/index.js","src/js/list-category.js","src/js/components/loader.js","src/js/modal.js","node_modules/@parcel/runtime-js/lib/runtime-a03646ff48b2368e.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"9p9yL\\\":\\\"index.8eabdcb2.js\\\",\\\"kxKJ3\\\":\\\"symbol-defs.70d0135e.svg\\\",\\\"fkaUk\\\":\\\"shopping-list.25daefe6.js\\\"}\"));","// import '../js/components/refs';\nimport '../js/burger-menu';\nimport '../js/dark-light-theme';\nimport '../js/list-category';\nimport '../js/support';\nimport '../js/modal';\nimport '../js/auth';\nimport '../js/up-btn';\nimport '../js/footer';\nimport '../js/bag';\n","import { loadingPage, loadPage } from './components/loader';\nimport {\n    fetchAllCategory,\n    fetchCategory,\n    fetchBestBooks,\n} from './components/api-request';\nimport Notiflix from 'notiflix';\n\nconst loader = document.querySelector('.js-loader');\n\nloadingPage(loader);\ngetAllCategory();\n\nasync function getAllCategory() {\n    await fetchAllCategory()\n        .then(data => {\n            const markupCategories = data\n                .filter(\n                    (category, index, self) =>\n                        self.findIndex(\n                            el => el.list_name === category.list_name\n                        ) === index\n                )\n                .map(\n                    category =>\n                        `<li class=\"item\" data-name=\"${category.list_name}\">${category.list_name}</li>`\n                )\n                .sort()\n                .join('');\n            categoryList.insertAdjacentHTML('beforeend', markupCategories);\n        })\n        .catch(error => Notiflix.Notify.failure(error));\n}\n\nconst categoryList = document.querySelector('.category-list');\nconst categoryName = document.querySelector('.category-name');\nconst bookList = document.querySelector('.book-list');\n\ncategoryList.addEventListener('click', onCategoryClick);\ncreateMarkup();\nbookList.addEventListener('click', onCategoryClick);\n\nfunction renderCategoryBooks(books) {\n    const isAllBooks = categoryName.textContent === 'allBooks';\n\n    if (isAllBooks) {\n        createGalleryItem(books);\n        loadingPage(loader);\n    } else {\n        const markup = books\n            .map(book => {\n                return `\n          <li class=\"category-book-card\" data-id=\"${book._id}\">\n          <div class=\"image-overlay\"> \n            <img class=\"book-image\" src=\"${book.book_image}\" alt=\"${\n                    book.title\n                }\" loading=\"lazy\" width=\"\" />\n            <div class=\"pop-up-window\">\n                <p class=\"pop-up-text\">quick view</p>\n              </div></div>\n            <h3 class=\"book-name\">${trimText(book.title, 17)}</h3>\n            <p class=\"author-book\">${trimText(book.author, 21)}</p>\n          </li>\n        `;\n            })\n            .join('');\n        bookList.innerHTML = markup;\n    }\n}\n\nfunction onCategoryClick(e) {\n    const category = e.target.dataset.name;\n    if (!category) return;\n    const activeCategory = categoryList.querySelector('.category-active');\n    const clickCategory = categoryList.querySelector(\n        `[data-name='${category}']`\n    );\n\n    if (activeCategory) {\n        activeCategory.classList.remove('category-active');\n    }\n\n    // e.target.classList.add('category-active');\n    clickCategory.classList.add('category-active');\n    if (category === 'allBooks') {\n        createMarkup();\n        categoryName.innerHTML = parseTitle('Best Seller Books');\n        return;\n    }\n\n    getCategoryBooks(category);\n    categoryName.innerHTML = parseTitle(category);\n}\n\nfunction parseTitle(title) {\n    const words = title.split(' ');\n    const lastWord = words.pop();\n    const parsedTitle =\n        words.join(' ') + ' <span class=\"title-blue\">' + lastWord + '</span>';\n    return parsedTitle;\n}\n\nasync function getCategoryBooks(category) {\n    try {\n        renderCategoryBooks(await fetchCategory(category));\n    } catch (error) {\n        Notiflix.Notify.failure(\n            `Oops! Something went wrong. You caught the following error: ${error.message}.`\n        );\n    }\n}\n\nasync function getBestBooks() {\n    try {\n        return await fetchBestBooks();\n    } catch (error) {\n        Notiflix.Notify.failure(\n            `Oops! Something went wrong. You caught the following error: ${error.message}.`\n        );\n    }\n}\n\nasync function createMarkup() {\n    const data = await getBestBooks();\n    createGalleryItem(data);\n    loadPage(loader);\n}\n\nfunction createGalleryItem(data) {\n    const markup = data\n        .map(element => {\n            const booksMarkup = element.books\n                .map(el => {\n                    return `\n              <li class=\"book-card\" data-id=\"${el._id}\">\n              <div class=\"image-overlay\"> \n              <img class=\"book-image\" src=\"${el.book_image}\" alt=\"${\n                        el.title\n                    }\" loading=\"lazy\" />\n                <div class=\"pop-up-window\">\n                  <p class=\"pop-up-text\">quick view</p>\n                </div>\n              </div> \n                <h3 class=\"book-name\">${trimText(el.title, 21)}</h3>\n                <p class=\"book-author\">${el.author}</p>\n              </li>\n            `;\n                })\n                .join('');\n\n            return `\n        <li class=\"books-allcat\">\n          <h2 class=\"category-item\">${element.list_name}</h2>\n          <ul class=\"categories\">\n            ${booksMarkup}\n          </ul>\n          <button class=\"see-more-btn\" data-name=\"${element.list_name}\">See More</button>\n        </li>\n        \n      `;\n        })\n        .join('');\n\n    bookList.innerHTML = markup;\n}\n\nfunction trimText(text, count) {\n    if (text.length > count) {\n        return text.slice(0, text.lastIndexOf(' ', count)) + '...';\n    }\n    return text;\n}\n","function loadingPage(selector) {\n    selector.classList.remove('is-hidden');\n    document.body.style.overflow = 'hidden';\n}\n\nfunction loadPage(selector) {\n    document.body.style.overflow = '';\n    selector.classList.add('is-hidden');\n}\n\nexport { loadingPage, loadPage };\n","import { fetchBook } from './components/api-request';\nimport buyIcons from '../images/symbol-defs.svg';\nimport Notiflix from 'notiflix';\n\nconst refs = {\n    modalBtnClose: document.querySelector('[data-modal-close]'),\n    modalBtn: document.querySelector('.modal-btn'),\n    modalBackDrop: document.querySelector('[data-modal]'),\n    modal: document.querySelector('.modal-book'),\n    congrat: document.querySelector('.congratulations'),\n    cardList: document.querySelector('.book-list'),\n    seeMoreBtn: document.querySelector('.see-more-btn'),\n};\n\nconst KEY_LS = 'books';\nlet idBook;\n\nrefs.modalBtn.addEventListener('click', handlerClickAddRemove);\nrefs.cardList.addEventListener('click', addToModal);\nrefs.modalBtnClose.addEventListener('click', closeModal);\n\nfunction addToModal(evt) {\n    if (evt.target === evt.currentTarget || refs.seeMoreBtn) {\n        return;\n    }\n    refs.modal.innerHTML = '';\n    idBook = findIdBook(evt.target);\n    checkInLS(idBook);\n    getBookModal(idBook);\n}\n\nfunction addFromModal(idBook) {\n    const books = getFromLS(KEY_LS) || [];\n    const isAlready = books.some(el => el === idBook);\n    if (!isAlready) {\n        books.push(idBook);\n        addToLS(KEY_LS, books);\n        return;\n    }\n}\n\nfunction checkInLS(idBook) {\n    const books = getFromLS(KEY_LS) || [];\n    const isAlready = books.some(el => el === idBook);\n    if (isAlready) {\n        removeModalLogic();\n        return;\n    }\n    addModalLogic();\n}\n\nfunction onBackDropModalClose(evt) {\n    if (evt.target !== evt.currentTarget) {\n        return;\n    }\n    closeModal();\n}\n\nfunction onEscModalClose(evt) {\n    if (evt.key === 'Escape') {\n        closeModal();\n    }\n}\n\nfunction openModal() {\n    document.body.classList.add('stop-scrolling');\n    refs.modalBackDrop.classList.remove('modal-is-hidden');\n    refs.modalBackDrop.addEventListener('click', onBackDropModalClose);\n    window.addEventListener('keydown', onEscModalClose);\n}\n\nfunction closeModal() {\n    document.body.classList.remove('stop-scrolling');\n    refs.modalBackDrop.classList.add('modal-is-hidden');\n    window.removeEventListener('keydown', onEscModalClose);\n    refs.modalBackDrop.removeEventListener('click', onBackDropModalClose);\n}\n\nasync function getBookModal(idBook) {\n    try {\n        const data = await fetchBook(idBook);\n        refs.modal.innerHTML = createModalMarkup(data);\n        openModal();\n        return data;\n    } catch (error) {\n        Notiflix.Notify.failure(\n            `Oops! Something went wrong. You caught the following error: ${error.message}.`\n        );\n    }\n}\n\nfunction findIdBook(htmlEl) {\n    return htmlEl.closest(`li`).dataset.id;\n}\n\nfunction addToLS(key, item) {\n    localStorage.setItem(key, JSON.stringify(item));\n}\n\nfunction getFromLS(key) {\n    return JSON.parse(localStorage.getItem(key));\n}\n\nfunction handlerClickAddRemove(evt) {\n    if (evt.target.classList.contains('js-btn-add')) {\n        addFromModal(idBook);\n        removeModalLogic();\n        return;\n    }\n}\nfunction handlerClickRemove(evt) {\n    if (evt.target.classList.contains('js-btn-remove')) {\n        removeFromLS();\n        addModalLogic();\n        return;\n    }\n}\n\nfunction removeFromLS() {\n    const books = getFromLS(KEY_LS);\n    books.splice(\n        books.findIndex(el => el === idBook),\n        1\n    );\n    localStorage.removeItem(KEY_LS);\n    addToLS(KEY_LS, books);\n    return;\n}\n\nfunction addModalLogic(evt) {\n    refs.modalBtn.addEventListener('click', handlerClickAddRemove);\n    refs.modalBtn.removeEventListener('click', handlerClickRemove);\n    refs.modalBtn.textContent = 'add to shopping list';\n    refs.congrat.classList.add('visually-hidden');\n    refs.modalBtn.classList.replace('js-btn-remove', 'js-btn-add');\n    return;\n}\nfunction removeModalLogic(evt) {\n    refs.modalBtn.removeEventListener('click', handlerClickAddRemove);\n    refs.modalBtn.addEventListener('click', handlerClickRemove);\n    refs.modalBtn.textContent = 'remove from the shopping list';\n    refs.congrat.classList.remove('visually-hidden');\n    refs.modalBtn.classList.replace('js-btn-add', 'js-btn-remove');\n    return;\n}\n\nfunction createModalMarkup(data) {\n    const { book_image, buy_links, title, description, author } = data;\n    let markup = `<div class=\"thumb\">\n    <img class=\"book-img\" src=\"${book_image}\" alt=\"${title}\" loading=\"lazy\"/>\n</div>\n<div class=\"modal-book-info\">\n    <h3 class=\"name\">${title}</h3>\n    <h4 class=\"author\">${author}</h4>\n    <p class=\"descr\">${description || 'Sorry! This book has no description'}</p>\n    <ul class=\"modal-list\">`;\n\n    markup += buy_links\n        .map(({ name, url }) => {\n            if (name === 'Amazon') {\n                return `<li class=\"modal-item\">\n            <a\n                aria-label=\"${name}\"\n                class=\"modal-buy-link\"\n                href=\"${url}\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n            >\n            <svg class=\"modal-buy-svg\" width=\"32px\" height=\"32px\">\n            <use href=\"${buyIcons}#icon-amazon\"></use>\n        </svg>\n\n            </a>\n        </li>`;\n            }\n            if (name === 'Apple Books') {\n                return `<li class=\"modal-item\">\n            <a\n                aria-label=\"${name}\"\n                class=\"modal-buy-link\"\n                href=\"${url}\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n            >\n            <svg class=\"modal-buy-svg\" width=\"32px\" height=\"32px\">\n            <use href=\"${buyIcons}#icon-apple\"></use>\n        </svg>\n\n            </a>\n        </li>`;\n            }\n            if (name === 'Bookshop') {\n                return `<li class=\"modal-item\">\n            <a\n                aria-label=\"${name}\"\n                class=\"modal-buy-link\"\n                href=\"${url}\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n            >\n            <svg class=\"modal-buy-svg\" width=\"32px\" height=\"32px\">\n            <use href=\"${buyIcons}#icon-books\"></use>\n        </svg>\n\n            </a>\n        </li>`;\n            }\n            markup += `</ul>`;\n        })\n        .join('');\n    return markup;\n}\n\n// export { getFromLS, addToLS, removeFromLS };\n// export { KEY_LS };\n// export { refs };\n","module.exports = require('./helpers/bundle-url').getBundleURL('9p9yL') + require('./helpers/bundle-manifest').resolve(\"kxKJ3\");"],"names":["parcelRequire","register","JSON","parse","$bpxeT","$db576fa6837b6c10$export$f5f2b7216332d86e","selector","classList","remove","document","body","style","overflow","$db576fa6837b6c10$export$a2e58475e09a3523","add","$7d884704ad88d7d8$var$loader","querySelector","$7d884704ad88d7d8$var$_getAllCategory","$parcel$interopDefault","$2TvXO","mark","_callee","$jZ32G","fetchAllCategory","then","data","markupCategories","filter","category","index","self","findIndex","el","list_name","map","concat","sort","join","$7d884704ad88d7d8$var$categoryList","insertAdjacentHTML","catch","error","$6JpON","Notify","failure","apply","this","arguments","$7d884704ad88d7d8$var$getAllCategory","$7d884704ad88d7d8$var$categoryName","$7d884704ad88d7d8$var$bookList","$7d884704ad88d7d8$var$renderCategoryBooks","books","textContent","$7d884704ad88d7d8$var$createGalleryItem","markup","book","_id","book_image","title","$7d884704ad88d7d8$var$trimText","author","innerHTML","$7d884704ad88d7d8$var$onCategoryClick","e","target","dataset","name","activeCategory","clickCategory","$7d884704ad88d7d8$var$createMarkup","$7d884704ad88d7d8$var$parseTitle","$7d884704ad88d7d8$var$_getCategoryBooks","$7d884704ad88d7d8$var$getCategoryBooks","words","split","lastWord","pop","fetchCategory","_ctx","t0","t1","t2","message","$7d884704ad88d7d8$var$getBestBooks","$7d884704ad88d7d8$var$_getBestBooks","fetchBestBooks","$7d884704ad88d7d8$var$_createMarkup","sent","element","booksMarkup","text","count","length","slice","lastIndexOf","addEventListener","$4372f073d7f15a73$exports","getBundleURL","resolve","$40873ecf3c18e122$var$idBook","$40873ecf3c18e122$var$refs","modalBtnClose","modalBtn","modalBackDrop","modal","congrat","cardList","seeMoreBtn","$40873ecf3c18e122$var$KEY_LS","$40873ecf3c18e122$var$onBackDropModalClose","evt","currentTarget","$40873ecf3c18e122$var$closeModal","$40873ecf3c18e122$var$onEscModalClose","key","$40873ecf3c18e122$var$openModal","window","removeEventListener","$40873ecf3c18e122$var$_getBookModal","idBook3","fetchBook","$40873ecf3c18e122$var$createModalMarkup","$40873ecf3c18e122$var$addToLS","item","localStorage","setItem","stringify","$40873ecf3c18e122$var$getFromLS","getItem","$40873ecf3c18e122$var$handlerClickAddRemove","contains","idBook1","some","push","$40873ecf3c18e122$var$addFromModal","$40873ecf3c18e122$var$removeModalLogic","$40873ecf3c18e122$var$handlerClickRemove","splice","removeItem","$40873ecf3c18e122$var$addModalLogic","replace","buy_links","description","param","url","idBook2","$40873ecf3c18e122$var$checkInLS","htmlEl","closest","id","$40873ecf3c18e122$var$getBookModal"],"version":3,"file":"index.8eabdcb2.js.map"}